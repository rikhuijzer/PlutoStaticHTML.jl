<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>with_terminal · PlutoStaticHTML.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PlutoStaticHTML.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">PlutoStaticHTML</a></li><li><a class="tocitem" href="../notebooks/example/">Example notebook</a></li><li class="is-active"><a class="tocitem" href><code>with_terminal</code></a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href><code>with_terminal</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><code>with_terminal</code></a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rikhuijzer/PlutoStaticHTML.jl/blob/main/docs/src/with_terminal.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Terminal-output-from-Pluto"><a class="docs-heading-anchor" href="#Terminal-output-from-Pluto">Terminal output from Pluto</a><a id="Terminal-output-from-Pluto-1"></a><a class="docs-heading-anchor-permalink" href="#Terminal-output-from-Pluto" title="Permalink"></a></h1><p><code>PlutoUI</code> has a well-known function <code>with_terminal</code> to show terminal output with a black background and colored text. For example, when having loaded <code>PlutoUI</code> via <code>using PlutoUI</code>, the following code will show the text &quot;Some terminal output&quot; in a mini terminal window inside <code>Pluto</code>:</p><pre><code class="language-julia hljs">with_terminal() do
    println(&quot;Some terminal output&quot;)
end</code></pre><p>This functionality is supported by <code>PlutoStaticHTML</code> too. To make it work, <code>PlutoStaticHTML</code> takes the output from <code>Pluto</code>, which looks roughly as follows:</p><pre><code class="language-html hljs">&lt;div style=&quot;display: inline; white-space: normal;&quot;&gt;
    &lt;script type=&quot;text/javascript&quot; id=&quot;plutouiterminal&quot;&gt;
        let txt = &quot;Some terminal output&quot;

        ...
    &lt;/script&gt;
&lt;/div&gt;</code></pre><p>and changes it to:</p><pre><code class="language-html hljs">&lt;pre id=&quot;plutouiterminal&quot;&gt;
Some terminal output
&lt;/pre&gt;</code></pre><p>This output is now much simpler to style to your liking. Below, there is an example style that you can apply which will style the terminal output just like it would in <code>Pluto</code>.</p><p>In terminals, the colors are enabled via so called ANSI escape codes. These ANSI colors can be shown correctly by adding the following Javascript to the footer of your website. This code will loop through all the HTML elements with <code>id=&quot;plutouiterminal&quot;</code> and apply the <code>ansi_to_html</code> function to the body of those elements:</p><pre><code class="language-html hljs">&lt;script type=&quot;text/javascript&quot;&gt;
    async function color_ansi() {
        const terminalOutputs = document.querySelectorAll(&quot;[id=plutouiterminal]&quot;);
        // Avoid loading AnsiUp if there is no terminal output on the page.
        if (terminalOutputs.length == 0) {
            return
        };
        try {
            const { default: AnsiUp } = await import(&quot;https://cdn.jsdelivr.net/gh/JuliaPluto/ansi_up@v5.1.0-es6/ansi_up.js&quot;);
            const ansiUp = new AnsiUp();
            // Indexed loop is needed here, the array iterator doesn&#39;t work for some reason.
            for (let i = 0; i &lt; terminalOutputs.length; ++i) {
                const terminalOutput = terminalOutputs[i];
                const txt = terminalOutput.innerHTML;
                terminalOutput.innerHTML = ansiUp.ansi_to_html(txt);
            };
        } catch(e) {
            console.error(&quot;Failed to import/call ansiup!&quot;, e);
        };
    };
    color_ansi();
&lt;/script&gt;</code></pre><p>Next, the output can be made more to look like an embedded terminal by adding the following to your CSS:</p><pre><code class="language-css hljs">#plutouiterminal {
  font-family: JuliaMono-Regular, SFMono-Regular, DejaVu Sans Mono, monospace;
  /* Without this, the output of BenchmarkTools looks weird. */
  line-height: 114%;
  max-height: 300px;
  overflow: auto;
  white-space: pre;
  color: white;
  background-color: black;
  border-radius: 6px;
  margin-top: 8px;
  margin-bottom: 8px;
  padding: 15px;
  display: block;
  font-size: 14px;
}</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Note that the Javascript code above downloads the <code>ansi_up.js</code> file from a content delivery network (CDN). This is not advised because CDNs are bad for privacy, may go offline and are bad for performance. They are bad for performance because browsers do not cache CDN downloaded content between different domains for security reasons. Therefore, CDN content will cause at least an extra DNS lookup in most cases.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../notebooks/example/">« Example notebook</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 22 October 2023 19:25">Sunday 22 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
