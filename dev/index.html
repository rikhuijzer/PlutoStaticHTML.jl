<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PlutoStaticHTML · PlutoStaticHTML.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PlutoStaticHTML.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>PlutoStaticHTML</a><ul class="internal"><li><a class="tocitem" href="#API-overview"><span>API overview</span></a></li><li><a class="tocitem" href="#Documenter.jl"><span>Documenter.jl</span></a></li><li><a class="tocitem" href="#Franklin.jl"><span>Franklin.jl</span></a></li><li><a class="tocitem" href="#Parallel-build"><span>Parallel build</span></a></li><li><a class="tocitem" href="#LaTeX-equations"><span>LaTeX equations</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="notebooks/example/">Example notebook</a></li><li><a class="tocitem" href="with_terminal/"><code>with_terminal</code></a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>PlutoStaticHTML</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PlutoStaticHTML</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rikhuijzer/PlutoStaticHTML.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="PlutoStaticHTML"><a class="docs-heading-anchor" href="#PlutoStaticHTML">PlutoStaticHTML</a><a id="PlutoStaticHTML-1"></a><a class="docs-heading-anchor-permalink" href="#PlutoStaticHTML" title="Permalink"></a></h1><p>Convert Pluto notebooks to pure HTML (without Javascript). This allows Pluto notebooks to be embedded in Documenter, Franklin and (optionally) to be styled manually via CSS. Also, it is possible to hide code blocks making it easy to show Julia generated output without showing code. Typically, converting Pluto notebooks to HTML is useful for things like</p><ul><li>tutorials (a ready-to-use template can be found at <a href="https://rikhuijzer.github.io/JuliaTutorialsTemplate/">https://rikhuijzer.github.io/JuliaTutorialsTemplate/</a>)</li><li>blogs</li><li>documentation</li></ul><p>For a quick preview, this package is used for the tutorials at <a href="https://turinglang.github.io/TuringGLM.jl/dev/tutorials/linear_regression/">TuringGLM.jl</a>. Also, I&#39;m using this package for my own blog, for example: <a href="https://huijzer.xyz/posts/frequentist-bayesian-coin-flipping/">https://huijzer.xyz/posts/frequentist-bayesian-coin-flipping/</a>.</p><h2 id="API-overview"><a class="docs-heading-anchor" href="#API-overview">API overview</a><a id="API-overview-1"></a><a class="docs-heading-anchor-permalink" href="#API-overview" title="Permalink"></a></h2><p>The most important method is <code>build_notebooks</code> (<a href="#API">API</a>).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>build_notebooks</code> ensures that the original notebook will not be changed.</p></div></div><p>In general, the idea is to</p><ol><li>Create a bunch of Pluto notebooks.</li><li>Get the name of the directory <code>dir</code> which contains your Pluto notebooks.</li><li>Choose an appropriate <code>output_format</code> depending on how the output will be used.  The output format can be <code>html_output</code>, <code>documenter_output</code> or <code>franklin_output</code>.</li><li>Pass the paths to <a href="#PlutoStaticHTML.build_notebooks"><code>build_notebooks</code></a> which, depending on <code>output_format</code>, writes HTML or Markdown outputs to files.</li><li>Read the output from the files and show them on a website via either your own logic or Documenter or Franklin.</li></ol><p>Note that this is a very nice development workflow because developing in Pluto notebooks is easy and allows for quick debugging. Also, Pluto has a lot of conversions built-in. This package will take the converted outputs, such as plots or tables, from Pluto which ensures that what you see in Pluto is what you see in the HTML output.</p><p>As an extension of Pluto, this package provides <code># hide</code> and <code># hideall</code> comments like Franklin and Documenter. A <code># hideall</code> somewhere in a Pluto code block will hide the code (but not the output). A <code># hide</code> behind a line in a code block will hide the line. Also, by default, this package hides all Markdown code blocks since readers are probably only interested in reading the output of the Markdown code block. This and more options can be tuned via <a href="#PlutoStaticHTML.HTMLOptions"><code>HTMLOptions</code></a>.</p><p>See below for more specific instructions on</p><ul><li><a href="#Documenter.jl">Documenter.jl</a></li><li><a href="#Franklin.jl">Franklin.jl</a></li><li><a href="#Parallel-build">Parallel build</a></li></ul><h2 id="Documenter.jl"><a class="docs-heading-anchor" href="#Documenter.jl">Documenter.jl</a><a id="Documenter.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Documenter.jl" title="Permalink"></a></h2><p>The <code>output_format=documenter_output</code> is used at various places which can all serve as an example:</p><ul><li>&quot;docs/make.jl&quot; in this repository.</li><li><a href="https://github.com/TuringLang/TuringGLM.jl">TuringGLM.jl</a>; for example output see the <a href="https://turinglang.github.io/TuringGLM.jl/dev/tutorials/linear_regression/">linear regression tutorial</a>.</li><li><a href="https://github.com/rikhuijzer/Resample.jl">Resample.jl</a>; for example output see the <a href="https://rikhuijzer.github.io/Resample.jl/dev/notebooks/smote/">SMOTE tutorial</a>.</li></ul><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>Avoid calling the conversion from inside a Documenter.jl code block. For some reason, that is likely to freeze or hang; probably due to <code>stdout</code> being flooded with information. Instead generate Markdown files via <code>docs/make.jl</code> and point to these files in <code>pages</code>.</p></div></div><h2 id="Franklin.jl"><a class="docs-heading-anchor" href="#Franklin.jl">Franklin.jl</a><a id="Franklin.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Franklin.jl" title="Permalink"></a></h2><p>For <code>output_format=franklin_output</code> examples, see</p><ul><li>The template at <a href="https://rikhuijzer.github.io/JuliaTutorialsTemplate/">https://rikhuijzer.github.io/JuliaTutorialsTemplate/</a>.</li><li><a href="https://gitlab.com/rikh/blog">My blog</a>.   For example, a post on <a href="https://huijzer.xyz/posts/random-forest/">random forests</a>.</li></ul><h2 id="Parallel-build"><a class="docs-heading-anchor" href="#Parallel-build">Parallel build</a><a id="Parallel-build-1"></a><a class="docs-heading-anchor-permalink" href="#Parallel-build" title="Permalink"></a></h2><p>To speed up the build, this package defines <a href="#PlutoStaticHTML.build_notebooks"><code>build_notebooks</code></a>. This function evaluates the notebooks in parallel by default. Also, it can use <a href="#Caching">Caching</a> to speed up the build even more.</p><p>To use it, pass a <code>dir</code> to write HTML files for all notebook files (the files are recognized by the &quot;.jl&quot; extension and that the file starts with <code>### A Pluto.jl notebook ###</code>):</p><pre><code class="language-julia hljs">julia&gt; using PlutoStaticHTML: build_notebooks

julia&gt; dir = joinpath(&quot;posts&quot;, &quot;notebooks&quot;);

julia&gt; build_notebooks(BuildOptions(dir));
[...]</code></pre><p>To run only specific notebooks, use:</p><pre><code class="language-julia hljs">julia&gt; files = [&quot;notebook1.jl&quot;, &quot;notebook2.jl&quot;];

julia&gt; build_notebooks(BuildOptions(dir), files)
[...]</code></pre><p>In CI, be sure to call this before using Franklin <code>serve</code> or <code>optimize</code>.</p><p>For more options, such as <code>append_build_context</code> to add Julia and packages version information, you can pass <a href="#PlutoStaticHTML.HTMLOptions"><code>HTMLOptions</code></a>:</p><pre><code class="language-julia hljs">julia&gt; bopts = BuildOptions(dir);

julia&gt; hopts = HTMLOptions(; append_build_context=true);

julia&gt; build_notebooks(bopts, files, hopts)
[...]</code></pre><p>See <a href="#PlutoStaticHTML.build_notebooks"><code>build_notebooks</code></a> for more information.</p><h3 id="Caching"><a class="docs-heading-anchor" href="#Caching">Caching</a><a id="Caching-1"></a><a class="docs-heading-anchor-permalink" href="#Caching" title="Permalink"></a></h3><p>Using caching can greatly speed up running times by avoiding to re-evaluate notebooks. Caching can be enabled by passing <code>previous_dir</code> via <a href="#PlutoStaticHTML.BuildOptions"><code>BuildOptions</code></a>. This <code>previous_dir</code> should point to a location where HTML or Markdown files are from the previous build. Then, <code>build_notebooks</code> will, for each input file <code>file.jl</code>, check:</p><ol><li>Whether <code>joinpath(previous_dir, &quot;file.html&quot;)</code> exists</li><li>Whether the SHA checksum of the current <code>$file.jl</code> matches the checksum of the previous <code>$file.jl</code>.  When assuming that Pluto&#39;s built-in package manager is used to manage packages, this check ensures that the packages of the previous run match the packages of the current run.</li><li>Whether the Julia version of the previous run matches the Julia version of the current run.</li></ol><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Caching assumes that notebooks are deterministic, that is, the notebook will produce the same output from the same input.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>previous_dir</code> provides a lot of flexibility. For example, it is possible to point towards a Git directory with the HTML or Markdown output files from last time. Alternatively, for <code>output_format=html_output</code> it is possible to download the web pages where the notebooks are shown and put these web pages in a directory. This works by extracting the state from the previous run from the output.</p></div></div><h2 id="LaTeX-equations"><a class="docs-heading-anchor" href="#LaTeX-equations">LaTeX equations</a><a id="LaTeX-equations-1"></a><a class="docs-heading-anchor-permalink" href="#LaTeX-equations" title="Permalink"></a></h2><p>Pluto uses MathJax by default, so make sure to setup MathJax in Franklin or Documenter. For Franklin, see <a href="https://rikhuijzer.github.io/JuliaTutorialsTemplate/">https://rikhuijzer.github.io/JuliaTutorialsTemplate/</a>. For Documenter, see <code>docs/make.jl</code> in this repository.</p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PlutoStaticHTML.build_notebooks" href="#PlutoStaticHTML.build_notebooks"><code>PlutoStaticHTML.build_notebooks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">build_notebooks(
    bopts::BuildOptions,
    files,
    hopts::HTMLOptions=HTMLOptions();
    session=ServerSession()
) -&gt; Vector{String}</code></pre><p>Build all <code>files</code> in <code>dir</code> in parallel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/PlutoStaticHTML.jl/blob/d4ee2ed8388929e24313f597da933694205427f8/src/build.jl#L296-L305">source</a></section><section><div><pre><code class="nohighlight hljs">build_notebooks(
    bopts::BuildOptions,
    hopts::HTMLOptions=HTMLOptions()
) -&gt; Vector{String}</code></pre><p>Build all &quot;.jl&quot; files in <code>dir</code> in parallel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/PlutoStaticHTML.jl/blob/d4ee2ed8388929e24313f597da933694205427f8/src/build.jl#L330-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlutoStaticHTML.BuildOptions" href="#PlutoStaticHTML.BuildOptions"><code>PlutoStaticHTML.BuildOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BuildOptions(
    dir::AbstractString;
    write_files::Bool=true,
    previous_dir::Union{Nothing,AbstractString}=nothing,
    output_format::OutputFormat=html_output,
    add_documenter_css::Bool=true,
    use_distributed::Bool=true,
    max_concurrent_runs::Int=4
)</code></pre><p>Arguments:</p><ul><li><code>dir</code>:   Directory in which the Pluto notebooks are stored.</li><li><code>write_files</code>:   Write files to <code>joinpath(dir, &quot;$file.html&quot;)</code>.</li><li><code>previous_dir::Union{Nothing,AbstractString}=Nothing</code>:   Use the output from the previous run as a cache to speed up running time.   To use the cache, specify a directory <code>previous_dir::AbstractString</code> which contains HTML or Markdown files from a previous run.   Specifically, files are expected to be at <code>joinpath(previous_dir, &quot;$file.html&quot;)</code>.   The output from the previous run may be embedded in a larger HTML or Markdown file.   This package will extract the original output from the full file contents.   By default, caching is disabled.</li><li><code>output_format</code>:   What file to write the output to.   By default this is <code>html_output::OutputFormat</code> meaning that the output of the HTML method is pure HTML.   To generate Franklin or Documenter files, use respectively <code>franklin_output</code> or <code>documenter_output</code>.   When <code>BuildOptions.write_files == true</code> and <code>output_format != html_output</code>, the output file has a &quot;.md&quot; extension instead of &quot;.html&quot;.</li><li><code>add_documenter_css</code> whether to add a CSS style to the HTML when <code>documenter_output=true</code>.</li><li><code>use_distributed</code>:   Whether to build the notebooks in different processes.   By default, this is enabled just like in Pluto and the notebooks are build in parallel.   The benefit of different processes is that things are more independent of each other.   Unfortunately, the drawback is that compilation has to happen for each process.   By setting this option to <code>false</code>, all notebooks are built sequentially in the same process which avoids recompilation.   This is likely quicker in situations where there are few threads available such as GitHub Runners depending on the notebook contents.   Beware that <code>use_distributed=false</code> will not work with Pluto&#39;s built-in package manager.</li><li><code>max_concurrent_runs</code>:   Maximum number of notebooks to evaluate concurrently when <code>use_distributed=true</code>.   Note that each notebook starts in a different thread and can start multiple threads, so don&#39;t set this number too high.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/PlutoStaticHTML.jl/blob/d4ee2ed8388929e24313f597da933694205427f8/src/build.jl#L26-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlutoStaticHTML.HTMLOptions" href="#PlutoStaticHTML.HTMLOptions"><code>PlutoStaticHTML.HTMLOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HTMLOptions(;
    code_class::AbstractString=&quot;language-julia&quot;,
    output_pre_class::AbstractString=&quot;code-output documenter-example-output&quot;,
    hide_code::Bool=false,
    hide_md_code::Bool=true,
    hide_md_def_code::Bool=true,
    add_state::Bool=true,
    append_build_context::Bool=false,
    compiler_options::Union{Nothing,CompilerOptions}=nothing,
    show_output_above_code::Bool=false,
    replace_code_tabs::Bool=true,
    convert_admonitions::Bool=true
)</code></pre><p>Arguments:</p><ul><li><code>code_class</code>:   HTML class for code.   This is used by CSS and/or the syntax highlighter.</li><li><code>output_pre_class</code>:   HTML class for <code>&lt;pre&gt;</code>.</li><li><code>output_class</code>:   HTML class for output.   This is used by CSS and/or the syntax highlighter.</li><li><code>hide_code</code>:   Whether to omit all code blocks.   Can be useful when readers are not interested in code at all.</li><li><code>hide_md_code</code>:   Whether to omit all Markdown code blocks.</li><li><code>hide_md_def_code</code>:   Whether to omit Franklin Markdown definition code blocks (blocks surrounded by +++).</li><li><code>add_state</code>:   Whether to add a comment in HTML with the state of the input notebook.   This state can be used for caching.   Specifically, this state stores a checksum of the input notebook and the Julia version.</li><li><code>append_build_context</code>:   Whether to append build context.   When set to <code>true</code>, this adds information about the dependencies and Julia version.   This is not executed via Pluto.jl&#39;s evaluation to avoid having to add extra dependencies to existing notebooks.   Instead, this reads the manifest from the notebook file.</li><li><code>compiler_options</code>:   <code>Pluto.Configuration.CompilerOptions</code> to be passed to Pluto.   This can, for example, be useful to pass custom system images from <code>PackageCompiler.jl</code>.</li><li><code>show_output_above_code</code>:   Whether to show the output from the code above the code.   Pluto.jl shows the output above the code by default; this package shows the output below the code by default.   To show the output above the code, set <code>show_output_above_code=true</code>.</li><li><code>replace_code_tabs</code>:   Replace tabs at the start of lines inside code blocks with spaces.   This avoids inconsistent appearance of code blocks on web pages.</li><li><code>convert_admonitions</code>:   Convert admonitions such as   <code>!!! note       This is a note.</code>   from Pluto&#39;s HTML to Documenter&#39;s HTML.   When this is enabled, the <code>documenter_output</code> has proper styling by default.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/PlutoStaticHTML.jl/blob/d4ee2ed8388929e24313f597da933694205427f8/src/html.jl#L28-L87">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="notebooks/example/">Example notebook »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Thursday 21 April 2022 06:41">Thursday 21 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
